---
title: 使用 Ubuntu 镜像源
description: 西安交通大学软件镜像站 Ubuntu 镜像源、Ubuntu Releases 镜像源与 Ubuntu Ports 镜像源使用帮助。
---

## 使用说明

### 手动修改

### 配置生成器

export const data = [
  { id: 'impish', title: '21.10 (Impish Indri)' },
  { id: 'hirsute', title: '21.04 (Hirsute Hippo)' },
  { id: 'focal', title: '20.04 LTS (Focal Fossa)' },
  { id: 'bionic', title: '18.04 LTS (Bionic Beaver)' },
  { id: 'xenial', title: '16.04 LTS (Xenial Xerus)' },
  { id: 'trusty', title: '14.04 LTS (Trusty Tahr)' },
];

export const pattern = (
  id,
  enableProposed,
  enableSource,
  isPorts,
) => `# Config generated by XJTU Mirrors Config Generator; DO NOT EDIT.\n
deb https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id} main restricted universe multiverse
${enableSource ? '' : '# '}deb-src https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id} main restricted universe multiverse
deb https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-updates main restricted universe multiverse
${enableSource ? '' : '# '}deb-src https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-updates main restricted universe multiverse
deb https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-backports main restricted universe multiverse
${enableSource ? '' : '# '}deb-src https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-backports main restricted universe multiverse
deb https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-security main restricted universe multiverse
${enableSource ? '' : '# '}deb-src https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-security main restricted universe multiverse\n
${enableProposed ? '' : '# '}deb https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-proposed main restricted universe multiverse
${
  enableProposed && enableSource ? '' : '# '
}deb-src https://mirrors.xjtu.edu.cn/ubuntu${
  isPorts ? '-ports' : ''
}/ ${id}-proposed main restricted universe multiverse
`;

export const ConfigGenerator = () => {
  const [state, setState] = React.useState({
    version: 2,
    enableProposed: false,
    enableSource: false,
    isPorts: false,
  });
  return (
    <div>
      <p>
        选择 Ubuntu 版本：
        <select
          value={state.version}
          onChange={(e) => setState({ ...state, version: e.target.value })}
        >
          {data.map((item, key) => (
            <option key={key} value={key}>
              Ubuntu {item.title}
            </option>
          ))}
        </select>
        <br />
        <div className="space-x-2">
          <label className="text-sm">
            <input
              name="enableProposed"
              type="checkbox"
              checked={state.enableProposed}
              onChange={(e) =>
                setState({ ...state, enableProposed: e.target.checked })
              }
            />
            使用预发布软件源
          </label>
          <label className="text-sm">
            <input
              name="enableSource"
              type="checkbox"
              checked={state.enableSource}
              onChange={(e) =>
                setState({ ...state, enableSource: e.target.checked })
              }
            />
            使用软件源码镜像
          </label>
          <label className="text-sm">
            <input
              name="isPorts"
              type="checkbox"
              checked={state.isPorts}
              onChange={(e) =>
                setState({ ...state, isPorts: e.target.checked })
              }
            />
            使用 Ubuntu Ports 镜像
          </label>
        </div>
      </p>
      <pre>
        <code className="language-shell">
          {pattern(
            data[state.version].id,
            state.enableProposed,
            state.enableSource,
            state.isPorts,
          )}
        </code>
      </pre>
    </div>
  );
};

<ConfigGenerator />
